<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>LIGHT SIDE — game development studio</title>
  <!-- Icons / PWA -->
  <link href="/favicon.ico" rel="icon"/>
  <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
  <link href="/apple-touch-icon.png" rel="apple-touch-icon"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <meta content="#5f4088" name="theme-color"/>
  <!-- Flags (for dropdown) -->
  <link href="https://cdn.jsdelivr.net/npm/flag-icons@7.1.0/css/flag-icons.min.css" rel="stylesheet"/>
  <!-- Fonts -->
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&amp;display=swap" rel="stylesheet"/>
  <style>html,body{font-family:Inter,system-ui,Segoe UI,Arial,sans-serif}</style>
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { future:{ hoverOnlyWhenSupported:true } };</script>
  <!-- Brand variables fallback -->
  <style>
    :root{ --brand-accent:#ff9f1b; --brand-base:#5f4088; }
    ::selection { background: var(--brand-accent); color: #111; }
    ::-moz-selection { background: var(--brand-accent); color: #111; }
    :focus-visible { outline: 2px solid var(--brand-accent); outline-offset: 2px; }
    a { text-underline-offset: .18em; text-decoration-thickness: .08em; text-decoration-color: var(--brand-accent); }
    a:hover { color: var(--brand-accent); text-decoration-color: var(--brand-accent); }
    input, textarea, select { caret-color: var(--brand-accent); }
    input[type="checkbox"], input[type="radio"], progress, input[type="range"] { accent-color: var(--brand-accent); }
    * { scrollbar-color: var(--brand-accent) transparent; }
    *::-webkit-scrollbar { width: 10px; height: 10px; }
    *::-webkit-scrollbar-thumb { background: var(--brand-accent); }

    .lang-dd{ position:relative; }
    .lang-trigger{ display:flex; align-items:center; gap:8px; background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.06)); border:1px solid rgba(255,255,255,.22); color:#fff; padding:8px 12px; border-radius:12px; font-weight:600; letter-spacing:.2px; cursor:pointer; box-shadow:inset 0 0 0 1px rgba(255,255,255,.04); }
    .lang-trigger svg{ opacity:.8; transition:transform .2s; }
    .lang-trigger[aria-expanded="true"] svg{ transform:rotate(180deg); }
    .lang-menu{ position:absolute; right:0; top:110%; min-width:220px; max-height:280px; overflow:auto; padding:6px; border-radius:12px; display:none; z-index:40; background:linear-gradient(180deg, var(--brand-base, #5f4088), color-mix(in oklab, var(--brand-base, #5f4088) 96%, black)); border:1px solid rgba(255,255,255,.15); box-shadow:0 12px 32px rgba(0,0,0,.35); backdrop-filter:blur(8px); }
    .lang-menu.open{ display:block; }
    .lang-option{ display:flex; align-items:center; gap:10px; width:100%; padding:8px 10px; border-radius:10px; color:#fff; background:transparent; border:0; text-align:left; cursor:pointer; }
    .lang-option:hover, .lang-option[aria-selected="true"], .lang-option:focus{ background:rgba(255,255,255,.10); outline:2px solid transparent; }
    #langLabel .fi, .lang-option .fi{ margin-right:8px; border-radius:2px; box-shadow:inset 0 0 0 1px rgba(0,0,0,.25); vertical-align:-0.1em; }
    [class*="ring-"] { --tw-ring-color: var(--brand-accent) !important; }
    [class*="ring-"]:not([class*="ring-opacity-"]) { --tw-ring-opacity: .30 !important; }
    :focus-visible { outline-color: var(--brand-accent); }

    /* Feature toggles (hide sections without removing) */
    [data-hide~="careers"] #careers,
    [data-hide~="news"] #news,
    [data-hide~="updates"] #news,
    [data-hide~="press"] #press,
    [data-hide~="team"] #team,
    [data-hide~="partners"] #partners { display: none !important; }
    [data-hide~="careers"] a[href="#careers"],
    [data-hide~="news"] a[href="#news"],
    [data-hide~="updates"] a[href="#news"],
    [data-hide~="press"] a[href="#press"],
    [data-hide~="team"] a[href="#team"],
    [data-hide~="partners"] a[href="#partners"] { display: none !important; }
  </style>
  <!-- React & Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <!-- i18next + ICU + detectors + HTTP backend (ленивая загрузка JSON) -->
  <script src="https://unpkg.com/i18next@23.11.5/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-http-backend@2.6.2/i18nextHttpBackend.min.js"></script>
  <script src="https://unpkg.com/i18next-browser-languagedetector@7.2.0/i18nextBrowserLanguageDetector.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/i18next-icu@2.5.0/umd/i18nextICU.min.js"></script>
</head>
<body class="bg-[var(--brand-base)] text-white" data-hide="team careers news press partners">
<div id="root"></div>
<script type="text/babel">
  const { useEffect, useState, useMemo, useRef, useCallback } = React;

  // === i18next init: лениво грузим JSON из /locales/{{lng}}/{{ns}}.json ===
  const SUPPORTED = ["en","ru","nl","fi","fr","de","id","it","ms","pl","pt","es","tr"];
  // Версия для инвалидации кеша (обновляйте при деплое)
  const I18N_ASSETS_VERSION = "2025-08-12";

  (() => {
    const HttpBackend = window.i18nextHttpBackend?.default || window.i18nextHttpBackend;
    const LangDetector = window.i18nextBrowserLanguageDetector?.default || window.i18nextBrowserLanguageDetector;
    const ICU = window.i18nextICU?.default || window.i18nextICU || null;
    let chain = i18next;
    if (HttpBackend) chain = chain.use(HttpBackend); else console.warn("i18next-http-backend not found");
    if (LangDetector) chain = chain.use(LangDetector); else console.warn("i18next-browser-languagedetector not found");
    if (ICU) chain = chain.use(ICU); else console.warn("i18next-icu not found; ICU plurals disabled");
    return chain;
  })().init({
    debug: false,
    fallbackLng: "en",
    supportedLngs: SUPPORTED,
    nonExplicitSupportedLngs: true,
    load: "currentOnly",
    ns: ["common"],
    defaultNS: "common",
    backend: {
      loadPath: `locales/{{lng}}/{{ns}}.json?v=${I18N_ASSETS_VERSION}`
    },
    detection: {
      // Храним выбор пользователя так же, как у вас было: ls.locale
      order: ["localStorage", "navigator"],
      caches: ["localStorage"],
      lookupLocalStorage: "ls.locale"
    },
    interpolation: { escapeValue: false }
  });

  function useI18n(){
    const [, force] = useState(0);
    const [status, setStatus] = useState(i18next.isInitialized ? "ok" : "loading");
    const [error, setError] = useState("");

    useEffect(() => {
      const rerender = () => force(x => x + 1);
      const onInit = () => { setStatus("ok"); rerender(); };
      const onLang = () => { setStatus("ok"); rerender(); };
      const onLoad = () => { setStatus("ok"); rerender(); };
      const onFail = (_lng, _ns, msg) => { setStatus("error"); setError(String(msg||"load failed")); };
      i18next.on("initialized", onInit);
      i18next.on("languageChanged", onLang);
      i18next.on("loaded", onLoad);
      i18next.on("failedLoading", onFail);
      return () => {
        i18next.off("initialized", onInit);
        i18next.off("languageChanged", onLang);
        i18next.off("loaded", onLoad);
        i18next.off("failedLoading", onFail);
      };
    }, []);

    const t = useCallback((k, o) => i18next.t(k, o), [i18next.language]);
    const setLocale = useCallback(code => i18next.changeLanguage(code), []);
    return { t, locale: i18next.language || "en", setLocale, status, error };
  }

  const SectionTitle = ({ kicker, title, subtitle }) => (
          <div className="max-w-3xl mx-auto text-center mb-12">
            <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold">
              <i data-lucide="rocket" className="w-4 h-4"></i><span>{kicker}</span>
            </div>
            <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{title}</h2>
            {subtitle && <p className="mt-3 text-white/70">{subtitle}</p>}
          </div>
  );

  function LangDropdown({ locale, setLocale }) {
    const [open, setOpen] = useState(false);
    const menuRef = useRef(null);
    const btnRef = useRef(null);

    const LANGS = useMemo(()=>[
      ["en","English","gb"],
      ["ru","Русский","ru"],
      ["nl","Nederlands","nl"],
      ["fi","Suomi","fi"],
      ["fr","Français","fr"],
      ["de","Deutsch","de"],
      ["id","Bahasa Indonesia","id"],
      ["it","Italiano","it"],
      ["ms","Bahasa Melayu","my"],
      ["pl","Polski","pl"],
      ["pt","Português","pt"],
      ["es","Español","es"],
      ["tr","Türkçe","tr"],
    ], []);

    function getMeta(code){
      const f = LANGS.find(([c])=>c===code);
      return f ? { code:f[0], label:f[1], flag:f[2] } : { code, label:code, flag:"us" };
    }

    const currentCode = LANGS.some(([c])=>c===locale) ? locale : "en";
    const current = getMeta(currentCode);

    function toggle(){ setOpen(v=>!v); }
    function close(){ setOpen(false); }
    function select(code){ setLocale(code); close(); }

    useEffect(()=>{
      function onDocClick(e){ if (!menuRef.current || !btnRef.current) return; if (!menuRef.current.contains(e.target) && !btnRef.current.contains(e.target)) close(); }
      function onKey(e){ if (e.key === "Escape") close(); }
      document.addEventListener("click", onDocClick);
      document.addEventListener("keydown", onKey);
      return ()=>{ document.removeEventListener("click", onDocClick); document.removeEventListener("keydown", onKey); };
    }, []);

    useEffect(()=>{ if (open) menuRef.current?.focus(); }, [open]);

    function onMenuKeyDown(e){
      const opts = Array.from(menuRef.current.querySelectorAll(".lang-option"));
      const idx = opts.findIndex(o=>o===document.activeElement);
      if(e.key==="ArrowDown"){ e.preventDefault(); (opts[idx+1]||opts[0])?.focus(); }
      if(e.key==="ArrowUp"){ e.preventDefault(); (opts[idx-1]||opts[opts.length-1])?.focus(); }
      if(e.key==="Enter" && document.activeElement.classList.contains("lang-option")){
        e.preventDefault(); document.activeElement.click();
      }
    }

    return (
            <div className="lang-dd">
              <button ref={btnRef} id="langBtn" type="button" className="lang-trigger" aria-haspopup="listbox" aria-expanded={open ? "true" : "false"} onClick={toggle} title="Language">
                <span id="langLabel"><span className={`fi fi-${current.flag}`}></span><span>{current.label}</span></span>
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
              </button>
              <div id="langMenu" ref={menuRef} className={`lang-menu ${open ? "open" : ""}`} role="listbox" tabIndex="-1" aria-labelledby="langBtn" onKeyDown={onMenuKeyDown}>
                {LANGS.map(([code, label])=>{
                  const m = getMeta(code);
                  return (
                          <button key={code} type="button" className="lang-option" role="option" aria-selected={code===currentCode ? "true" : "false"} onClick={()=>select(code)}>
                            <span className={`fi fi-${m.flag}`}></span>
                            <span>{m.label}</span>
                          </button>
                  );
                })}
              </div>
            </div>
    );
  }

  function App(){
    const { t, locale, setLocale, status, error } = useI18n();
    useEffect(() => { try { window.lucide && window.lucide.createIcons(); } catch {} });

    const news = [
      { date:"2025-05-18", title:t("news.items.0.title"), summary:t("news.items.0.summary") },
      { date:"2025-03-02", title:t("news.items.1.title"), summary:t("news.items.1.summary") },
      { date:"2024-11-21", title:t("news.items.2.title"), summary:t("news.items.2.summary") },
    ];

    return (
            <div className="min-h-screen scroll-smooth">
              <header className="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-[var(--brand-base)]/60 border-b border-white/10">
                <div className="mx-auto max-w-7xl px-4 py-3 flex items-center gap-3">
                  <img src="assets/light-side-logo-clear-512.png" alt="LIGHT SIDE logo" className="h-11 w-auto shrink-0" decoding="async" loading="eager" />
                  <div className="font-bold tracking-tight text-lg">LIGHT SIDE</div>
                  <nav className="ml-auto hidden md:flex items-center gap-2">
                    {["nav.about","nav.games","nav.team","nav.careers","nav.news","nav.press","nav.contact"].map(k => (
                            <a key={k} href={"#"+k.split(".")[1]} className="px-3 py-2 rounded-xl text-sm hover:text-[var(--brand-accent)] hover:bg-white/5 transition">{t(k)}</a>
                    ))}
                    <LangDropdown locale={locale} setLocale={setLocale} />
                  </nav>
                </div>
              </header>

              <section className="relative">
                <div className="absolute inset-0 -z-10"><div className="h-[40rem] bg-gradient-to-b from-[var(--brand-accent)]/20 via-white/5 to-transparent blur-3xl"></div></div>
                <div className="relative mx-auto max-w-7xl px-4 py-20 md:py-28">
                  <div className="max-w-3xl">
                    <div className="flex items-center gap-3 text-[var(--brand-accent)]/90">
                      <span className="inline-flex items-center px-2.5 py-1 rounded-full text-xs bg-[var(--brand-accent)]/15 text-[var(--brand-accent)] ring-1 ring-[var(--brand-accent)]/30"><i data-lucide="trophy" className="w-3.5 h-3.5 mr-1"></i> {t("hero.pill.indie_studio")}</span>
                      <span className="inline-flex items-center px-2.5 py-1 rounded-full text-xs bg-[var(--brand-accent)]/15 text-[var(--brand-accent)] ring-1 ring-[var(--brand-accent)]/30"><i data-lucide="rocket" className="w-3.5 h-3.5 mr-1"></i> {t("hero.pill.meaningful_games")}</span>
                    </div>
                    <h1 className="mt-6 text-4xl md:text-6xl font-extrabold leading-[1.05]">{t("hero.title")}</h1>
                    <p className="mt-5 text-lg md:text-xl text-white/80">{t("hero.subtitle")}</p>
                    <div className="mt-8 flex flex-wrap items-center gap-3">
                      <a href="#games" className="group inline-flex items-center gap-2 px-5 py-3 rounded-2xl bg-[var(--brand-accent)] text-slate-900 font-semibold hover:bg-black hover:text-[var(--brand-accent)] hover:translate-y-[-1px] transition"><i data-lucide="gamepad-2" className="w-5 h-5"></i> {t("hero.cta.games")}</a>
                      <a href="#careers" className="inline-flex items-center gap-2 px-5 py-3 rounded-2xl border border-white/20 hover:bg-white/10"><i data-lucide="briefcase" className="w-5 h-5"></i> {t("hero.cta.careers")}</a>
                      <a href="#contact" className="inline-flex items-center gap-2 px-5 py-3 rounded-2xl border border-white/20 hover:bg-white/10"><i data-lucide="mail" className="w-5 h-5"></i> {t("hero.cta.contact")}</a>
                    </div>
                  </div>
                </div>
              </section>

              <section id="about" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="rocket" className="w-4 h-4"></i><span>{t("about.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("about.title")}</h2>
                  <p className="mt-3 text-white/70">{t("about.subtitle")}</p>
                </div>
                <div className="grid md:grid-cols-3 gap-6">
                  {[
                    { title:t("about.bullets.technical.title"), text:t("about.bullets.technical.text") },
                    { title:t("about.bullets.prototype.title"), text:t("about.bullets.prototype.text") },
                    { title:t("about.bullets.aesthetics.title"), text:t("about.bullets.aesthetics.text") },
                  ].map((b,i)=>(
                          <div key={i} className="rounded-2xl border border-white/10 bg-white/5 p-6 hover:bg-white/10 transition">
                            <h3 className="text-lg font-semibold">{b.title}</h3>
                            <p className="mt-2 text-white/70">{b.text}</p>
                          </div>
                  ))}
                </div>
              </section>

              <section id="games" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="gamepad-2" className="w-4 h-4"></i><span>{t("games.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("games.title")}</h2>
                  <p className="mt-3 text-white/70">{t("games.subtitle")}</p>
                </div>
                <div className="grid md:grid-cols-3 gap-6">
                  {[
                    { id:"solar", title:t("games.solar_run.title"), desc:t("games.solar_run.description"), status:t("games.solar_run.status") },
                  ].map(g=>(
                          <a key={g.id} href="https://play.google.com/store/apps/details?id=com.lightside.tetracrush" target="_blank" rel="noopener noreferrer" className="group rounded-2xl overflow-hidden border border-white/10 bg-white/5 hover:bg-white/10">
                            <div className="relative aspect-[1/1] overflow-hidden">
                              <img src="assets/tetra-crush-logo.png" alt={g.title} className="w-full h-full object-cover" />
                              <div className="absolute left-3 top-3">
                                <span className="inline-flex items-center px-2.5 py-1 rounded-full text-xs bg-[var(--brand-base)] text-[var(--brand-accent)] ring-1 shadow-[0_0_0_1px_color-mix(in_oklab,var(--brand-accent)_35%,transparent),_0_0_14px_color-mix(in_oklab,var(--brand-accent)_65%,transparent)] hover:shadow-[0_0_0_1px_color-mix(in_oklab,var(--brand-accent)_50%,transparent),_0_0_22px_color-mix(in_oklab,var(--brand-accent)_85%,transparent)] transition-shadow">{g.status}</span>
                              </div>
                            </div>
                            <div className="p-4">
                              <h3 className="text-white font-semibold text-2xl md:text-3xl text-center leading-tight mb-2 group-hover:text-[var(--brand-accent)] transition-colors">{g.title}</h3>
                              <p className="text-white/80 text-sm">{g.desc}</p>
                            </div>
                          </a>
                  ))}
                </div>
                <div className="mt-8 flex items-center justify-center"><a href="#contact" className="inline-flex items-center gap-2 px-5 py-3 rounded-2xl border border-white/15 hover:bg-white/10">{t("games.request_build")}</a></div>
              </section>

              <section id="team" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="users" className="w-4 h-4"></i><span>{t("team.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("team.title")}</h2>
                  <p className="mt-3 text-white/70">{t("team.subtitle")}</p>
                </div>
                <div className="grid md:grid-cols-4 gap-6">
                  {[0,1,2,3].map(i => (
                          <div key={i} className="rounded-2xl p-5 border border-white/10 bg-white/5">
                            <div className="h-28 w-28 rounded-2xl bg-[var(--brand-accent)]/30 mx-auto"></div>
                            <h3 className="mt-4 text-center font-semibold">{t(`team.members.${i}.name`)}</h3>
                            <p className="text-center text-sm text-white/70">{t(`team.members.${i}.role`)}</p>
                          </div>
                  ))}
                </div>
              </section>

              <section id="careers" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="briefcase" className="w-4 h-4"></i><span>{t("careers.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("careers.title")}</h2>
                  <p className="mt-3 text-white/70">{t("careers.subtitle")}</p>
                </div>
                <div className="grid md:grid-cols-3 gap-6">
                  {[
                    { t1:"careers.jobs.senior_engineer.title", t2:"careers.jobs.senior_engineer.type", t3:"careers.jobs.senior_engineer.description" },
                    { t1:"careers.jobs.game_designer.title", t2:"careers.jobs.game_designer.type", t3:"careers.jobs.game_designer.description" },
                    { t1:"careers.jobs.hard_surface_artist.title", t2:"careers.jobs.hard_surface_artist.type", t3:"careers.jobs.hard_surface_artist.description" },
                  ].map((j,i)=>(
                          <div key={i} className="rounded-2xl p-5 border border-white/10 bg-white/5">
                            <h3 className="text-lg font-semibold">{t(j.t1)}</h3>
                            <p className="mt-1 text-[var(--brand-accent)] text-sm">{t(j.t2)}</p>
                            <p className="mt-3 text-white/70 text-sm">{t(j.t3)}</p>
                            <a href="#contact" className="mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-white/15 hover:bg-white/10">{t("careers.apply")}</a>
                          </div>
                  ))}
                </div>
              </section>

              <section id="news" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="newspaper" className="w-4 h-4"></i><span>{t("news.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("news.title")}</h2>
                  <p className="mt-3 text-white/70">{t("news.subtitle")}</p>
                </div>
                <div className="space-y-4">
                  {news.map((n,i)=>(
                          <div key={i} className="rounded-2xl p-5 border border-white/10 bg-white/5 flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                            <div>
                              <div className="text-sm text-white/70">{new Date(n.date).toLocaleDateString()}</div>
                              <h3 className="text-lg font-semibold mt-1">{n.title}</h3>
                              <p className="text-white/70 mt-1">{n.summary}</p>
                            </div>
                            <a href="#" className="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-white/15 hover:bg-white/10">{t("news.read")}</a>
                          </div>
                  ))}
                </div>
              </section>

              <section id="press" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="newspaper" className="w-4 h-4"></i><span>{t("press.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("press.title")}</h2>
                  <p className="mt-3 text-white/70">{t("press.subtitle")}</p>
                </div>
                <div className="grid md:grid-cols-2 gap-6">
                  <div className="rounded-2xl p-5 border border-white/10 bg-white/5">
                    <h3 className="font-semibold">{t("press.logo")}</h3>
                    <div className="mt-3 aspect-[3/1] rounded-xl border border-white/10 bg-white/5 flex items-center justify-center overflow-hidden"><div className="h-24 w-24 bg-[var(--brand-accent)]/30 rounded-lg"></div></div>
                    <div className="mt-3 flex gap-3"><a href="#" className="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-white/15 hover:bg-white/10"><i data-lucide="download" className="w-4 h-4"></i>{t("press.download_png")}</a></div>
                  </div>
                  <div className="rounded-2xl p-5 border border-white/10 bg-white/5">
                    <h3 className="font-semibold">{t("press.banner")}</h3>
                    <div className="mt-3 aspect-[3/1] rounded-xl border border-white/10 bg-white/5 overflow-hidden"></div>
                    <div className="mt-3 flex gap-3"><a href="#" className="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-white/15 hover:bg-white/10"><i data-lucide="download" className="w-4 h-4"></i>{t("press.download_image")}</a></div>
                  </div>
                </div>
              </section>

              <section id="contact" className="mx-auto max-w-7xl px-4 py-20">
                <div className="max-w-3xl mx-auto text-center mb-12">
                  <div className="flex items-center justify-center gap-2 text-[var(--brand-accent)] uppercase tracking-widest text-xs font-semibold"><i data-lucide="mail" className="w-4 h-4"></i><span>{t("contact.kicker")}</span></div>
                  <h2 className="mt-4 text-3xl md:text-4xl font-bold tracking-tight">{t("contact.title")}</h2>
                  <p className="mt-3 text-white/70">{t("contact.subtitle")}</p>
                </div>
                <form id="contactForm" className="grid md:grid-cols-2 gap-6">
                  <div className="grid gap-3">
                    <input name="name" placeholder={t("contact.form.name")} required className="px-4 py-3 rounded-xl bg-white/5 border border-white/15 focus:outline-none focus:ring-2 focus:ring-[var(--brand-accent)]" />
                    <input type="email" name="email" placeholder={t("contact.form.email")} required className="px-4 py-3 rounded-xl bg-white/5 border border-white/15 focus:outline-none focus:ring-2 focus:ring-[var(--brand-accent)]" />
                    <input name="subject" placeholder={t("contact.form.subject")} className="px-4 py-3 rounded-xl bg-white/5 border border-white/15 focus:outline-none focus:ring-2 focus:ring-[var(--brand-accent)]" />
                    {/* honeypot анти-бот */}
                    <input name="company" tabIndex="-1" autoComplete="off" className="hidden" aria-hidden="true" />
                  </div>

                  <div className="grid gap-3">
                    <textarea name="message" placeholder={t("contact.form.message")} rows="6" className="px-4 py-3 rounded-xl bg-white/5 border border-white/15 focus:outline-none focus:ring-2 focus:ring-[var(--brand-accent)]"></textarea>

                    <div className="flex items-center gap-3">
                      <button type="submit" className="inline-flex items-center gap-2 px-5 py-3 rounded-2xl bg-[var(--brand-accent)] text-slate-900 font-semibold transition duration-200 ease-out hover:translate-y-[-1px] hover:bg-black hover:text-[var(--brand-accent)] active:translate-y-0 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--brand-accent)]/50 disabled:opacity-50 disabled:pointer-events-none">
                        {t('contact.form.send')}
                      </button>
                      <span className="text-sm text-white/70">{t("contact.reply_time")}</span>
                    </div>

                    {/* место для статусов */}
                    <p id="contactHint" className="text-sm text-white/70" role="status" aria-live="polite"></p>
                  </div>
                </form>
              </section>

              <footer className="border-t border-white/10">
                <div className="mx-auto max-w-7xl px-4 py-8 flex flex-col md:flex-row items-center justify-between gap-4">
                  <div className="flex items-center gap-3">
                    <img src="assets/light-side-logo-clear-512.png" alt="LIGHT SIDE logo" className="h-11 w-auto shrink-0" decoding="async" loading="eager" />
                    <span className="text-sm text-white/70">© {new Date().getFullYear()} {t("footer.copyright")}</span>
                  </div>
                  <div className="text-sm text-white/70">{t("footer.made_with_love")}</div>
                </div>
              </footer>

              <div className="fixed bottom-3 right-3 text-xs px-2 py-1 rounded bg-black/50 backdrop-blur border border-white/10">i18n: {status}{error ? " — " + error : ""} • {locale}</div>
            </div>
    );
  }

  const root = ReactDOM.createRoot(document.getElementById('root'));
  root.render(<App />);
</script>

<script>
  const ENDPOINT = "https://api.lightside.media/api/apps-script?id=AKfycbxWF7_78oTze8ybJ_R74fQgXut6RAiYLB3eJY3yqbXFlyHokb9m3ZqNi4ABmHWCxVa4";

  document.addEventListener("submit", async (e) => {
    const f = e.target;
    if (!(f instanceof HTMLFormElement) || f.id !== "contactForm") return;
    e.preventDefault();

    if ((f.elements.company?.value || "").trim() !== "") return;

    const name    = (f.elements.name?.value || "").trim();
    const email   = (f.elements.email?.value || "").trim();
    const subject = (f.elements.subject?.value || "").trim() || "Website contact";
    const message = (f.elements.message?.value || "").trim();
    if (!name || !email || !message) return;

    const fd = new FormData();
    fd.set("name", name);
    fd.set("email", email);
    fd.set("subject", subject);
    fd.set("message", message);

    const btn = f.querySelector('[type="submit"]'); if (btn) btn.disabled = true;
    try {
      const resp = await fetch(ENDPOINT, { method: "POST", body: fd }); // <— без manual headers
      const ok = resp.headers.get("content-type")?.includes("application/json")
              ? !!(await resp.json()).ok
              : resp.ok;
      if (ok) f.reset();
    } finally { if (btn) btn.disabled = false; }
  });
</script>
</body>
</html>
